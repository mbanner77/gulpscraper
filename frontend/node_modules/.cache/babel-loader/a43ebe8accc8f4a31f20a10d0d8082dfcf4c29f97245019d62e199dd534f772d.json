{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useLocation,useNavigate}from'react-router-dom';import{Container,Grid,Typography,Box,CircularProgress,Pagination,TextField,Button,FormControl,InputLabel,Select,MenuItem,FormControlLabel,Switch,Alert,Tooltip,InputAdornment,FormHelperText,IconButton,Link,Paper}from'@mui/material';import{FilterAlt as FilterIcon,Clear as ClearIcon,Refresh as RefreshIcon,Archive as ArchiveIcon}from'@mui/icons-material';import ProjectCard from'../components/ProjectCard';import{getProjects,markProjectsAsSeen}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function HomePage(){const location=useLocation();const navigate=useNavigate();const queryParams=new URLSearchParams(location.search);// State for projects and pagination\nconst[projects,setProjects]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[page,setPage]=useState(parseInt(queryParams.get('page'))||1);const[totalPages,setTotalPages]=useState(1);const[totalCount,setTotalCount]=useState(0);// State for filters\nconst[searchQuery,setSearchQuery]=useState(queryParams.get('search')||'');const[location_,setLocation]=useState(queryParams.get('location')||'');const[remoteOnly,setRemoteOnly]=useState(queryParams.get('remote')==='true');const[newOnly,setNewOnly]=useState(queryParams.get('new')==='true');// Standardmäßig alle Projekte anzeigen (true), um sicherzustellen, dass Projekte auf Render angezeigt werden\nconst[showAllProjects,setShowAllProjects]=useState(queryParams.get('show_all')!=='false');const[showFilters,setShowFilters]=useState(false);// State for new projects\nconst[newProjectIds,setNewProjectIds]=useState([]);// Funktion zum Laden der Projekte mit useCallback\nconst fetchProjects=useCallback(async function(){let forceReprocess=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;setLoading(true);setError(null);try{// Build query parameters\nconst params={page,limit:12,search:searchQuery,location:location_,remote:remoteOnly,new:newOnly,show_all:showAllProjects};// Für Render: force_reprocess Parameter hinzufügen, wenn angefordert\nif(forceReprocess){params.force_reprocess=true;console.log('Forcing project reprocessing on fetch');}console.log('Fetching projects with params:',params);const data=await getProjects(params);console.log('API response:',data);console.log('Projects received:',data.projects?data.projects.length:0);// Wenn Projekte vorhanden sind, setzen wir sie und beenden\nif(data.projects&&data.projects.length>0){setProjects(data.projects);setTotalCount(data.total);// Speichere die IDs der neuen Projekte, um sie hervorzuheben\nif(data.new_project_ids){setNewProjectIds(data.new_project_ids);}return true;// Erfolgreicher Abruf\n}console.warn('No projects received from API, trying fallback approaches');// Wenn wir auf Render sind und keine Projekte erhalten haben, versuchen wir es mit force_reprocess\nconst isRender=window.location.hostname.includes('render.com')||window.location.hostname.includes('onrender.com');if(isRender&&!forceReprocess){console.log('On Render with no projects, retrying with force_reprocess');return fetchProjects(true);// Rekursiver Aufruf mit force_reprocess\n}// Direkter Fallback-API-Aufruf als letzter Versuch\ntry{// Verwende die gleiche API-URL-Bestimmung wie in api.js\nconst apiUrl=(()=>{console.log('Determining fallback API URL for hostname:',window.location.hostname);if(process.env.REACT_APP_API_URL){return process.env.REACT_APP_API_URL;}if(isRender){console.log('Detected Render deployment for fallback');if(window.location.hostname.includes('gulp-job-app')){return window.location.origin.replace('gulp-job-app','gulp-job-app-api');}const hostParts=window.location.hostname.split('-');if(hostParts.length>0){const appPrefix=hostParts[0];// z.B. 'gulp'\nconst apiUrl=\"https://\".concat(appPrefix,\"-backend.onrender.com\");console.log('Using constructed Render API URL with prefix:',apiUrl);return apiUrl;}const fallbackUrl=window.location.origin.replace('frontend','backend');console.log('Using fallback Render API URL:',fallbackUrl);return fallbackUrl;}return'http://localhost:8001';})();console.log('Trying direct fetch from:',apiUrl);const directResponse=await fetch(\"\".concat(apiUrl,\"/projects?show_all=true&force_reprocess=true\"));const directData=await directResponse.json();console.log('Direct fetch response:',directData);if(directData.projects&&directData.projects.length>0){console.log('Direct fetch successful, got',directData.projects.length,'projects');setProjects(directData.projects);setTotalCount(directData.total||directData.projects.length);return true;// Erfolgreicher direkter Abruf\n}else{console.warn('Direct fetch returned no projects');// Wenn wir auf Render sind und immer noch keine Projekte haben, versuchen wir es mit einem Seiten-Reload\nif(isRender){console.log('On Render with no projects after all attempts, will try page reload in 5 seconds');setTimeout(()=>{window.location.reload();},5000);}setProjects([]);setTotalCount(0);setError('Keine Projekte gefunden. Bitte starten Sie den Scraper.');return false;}}catch(directFetchError){console.error('Direct fetch failed:',directFetchError);setProjects([]);setTotalCount(0);setError('Keine Projekte gefunden. Bitte starten Sie den Scraper.');return false;}}catch(err){console.error('Error fetching projects:',err);setError('Fehler beim Laden der Projekte. Bitte versuchen Sie es später erneut.');setProjects([]);setTotalCount(0);return false;}finally{setLoading(false);}},[page,searchQuery,location_,remoteOnly,newOnly,showAllProjects]);// Event-Listener für Projekt-Updates (z.B. nach manuellem Scrape)\nuseEffect(()=>{// Handler für das projectsUpdated-Event\nconst handleProjectsUpdated=event=>{console.log('Projekte wurden aktualisiert, lade neu...',event===null||event===void 0?void 0:event.detail);// Für Render: Verzögertes Neuladen mit force_reprocess\nconst isRender=window.location.hostname.includes('render.com')||window.location.hostname.includes('onrender.com');if(isRender){console.log('Render-Umgebung erkannt, verzögertes Laden der Projekte mit force_reprocess');// Erste Aktualisierung nach 500ms\nsetTimeout(()=>{console.log('Erste verzögerte Aktualisierung nach Scrape');fetchProjects(true);// Mit force_reprocess\n// Zweite Aktualisierung nach weiteren 2 Sekunden, falls die erste nicht erfolgreich war\nsetTimeout(()=>{console.log('Zweite verzögerte Aktualisierung nach Scrape');fetchProjects(true);},2000);},500);}else{// Für lokale Umgebung: Sofort aktualisieren\nfetchProjects();}};// Event-Listener hinzufügen\nwindow.addEventListener('projectsUpdated',handleProjectsUpdated);// Für Render: Automatische Aktualisierung alle 5 Sekunden, wenn keine Projekte angezeigt werden\nconst isRender=window.location.hostname.includes('render.com')||window.location.hostname.includes('onrender.com');let autoRefreshInterval=null;if(isRender){console.log('Render-Umgebung erkannt, starte Auto-Refresh-Überwachung');// Starte einen Interval, der prüft, ob Projekte angezeigt werden\nautoRefreshInterval=setInterval(()=>{// Nur aktualisieren, wenn keine Projekte angezeigt werden und kein Ladevorgang läuft\nif(projects.length===0&&!loading){console.log('Keine Projekte auf Render gefunden, automatische Aktualisierung...');fetchProjects(true);// Mit force_reprocess\n}else if(projects.length>0){// Wenn Projekte angezeigt werden, stoppe die automatische Aktualisierung\nconsole.log('Projekte werden angezeigt, stoppe Auto-Refresh');clearInterval(autoRefreshInterval);autoRefreshInterval=null;}},5000);// Alle 5 Sekunden prüfen\n}// Cleanup beim Unmount\nreturn()=>{window.removeEventListener('projectsUpdated',handleProjectsUpdated);if(autoRefreshInterval){clearInterval(autoRefreshInterval);}};},[fetchProjects,projects,loading]);// Leere Abhängigkeitsliste, damit der Event-Listener nur einmal registriert wird\n// Der automatische Neuladen-Mechanismus wurde in den Event-Listener-useEffect integriert\n// Load projects on mount and when filters change\nuseEffect(()=>{fetchProjects();// Update URL with current filters\nconst params=new URLSearchParams();if(page>1)params.set('page',page.toString());if(searchQuery)params.set('search',searchQuery);if(location_)params.set('location',location_);if(remoteOnly)params.set('remote','true');if(newOnly)params.set('new','true');if(!showAllProjects)params.set('show_all','false');navigate({pathname:location.pathname,search:params.toString()},{replace:true});},[page,searchQuery,location_,remoteOnly,newOnly,showAllProjects,navigate,location.pathname]);const handlePageChange=(event,value)=>{setPage(value);};const handleFilterSubmit=e=>{e.preventDefault();setPage(1);// Reset to first page when applying filters\n};const handleClearFilters=()=>{setSearchQuery('');setLocation('');setRemoteOnly(false);setNewOnly(false);setPage(1);};const handleFavoriteToggle=()=>{// Implement favorite toggle functionality\n};const handleMarkAsSeen=async projectIds=>{try{await markProjectsAsSeen(projectIds);setNewProjectIds(prev=>prev.filter(id=>!projectIds.includes(id)));}catch(err){console.error('Error marking projects as seen:',err);}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"xl\",sx:{py:4},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:showAllProjects?'Alle GULP Projekte':'Aktuelle GULP Projekte'}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(FilterIcon,{}),onClick:()=>setShowFilters(!showFilters),sx:{mr:1},children:[\"Filter \",showFilters?'ausblenden':'anzeigen']}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",component:Link,href:\"/scraper\",startIcon:/*#__PURE__*/_jsx(ArchiveIcon,{}),sx:{mr:1},children:\"Scraper & Archiv\"})]})]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:3,display:showFilters?'block':'none'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Projektfilter\"}),showFilters&&/*#__PURE__*/_jsx(\"form\",{onSubmit:handleFilterSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:4,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Suchbegriff\",variant:\"outlined\",size:\"small\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),placeholder:\"z.B. React, Python, DevOps...\",InputProps:{endAdornment:searchQuery&&/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>setSearchQuery(''),children:/*#__PURE__*/_jsx(ClearIcon,{fontSize:\"small\"})})})}}),/*#__PURE__*/_jsx(FormHelperText,{children:\"Suche in Titel, Beschreibung und Skills\"})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Ort\",variant:\"outlined\",size:\"small\",value:location_,onChange:e=>setLocation(e.target.value),placeholder:\"z.B. M\\xFCnchen, Berlin...\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:remoteOnly,onChange:e=>setRemoteOnly(e.target.checked),color:\"primary\"}),label:\"Nur Remote-Projekte\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:newOnly,onChange:e=>setNewOnly(e.target.checked),color:\"primary\"}),label:\"Nur neue Projekte\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:showAllProjects,onChange:e=>setShowAllProjects(e.target.checked),color:\"primary\"}),label:\"Alle Projekte anzeigen (inkl. Archiv)\"})})]})})]}),error&&/*#__PURE__*/_jsxs(Alert,{severity:\"error\",sx:{mb:3},children:[error,/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(RefreshIcon,{}),onClick:()=>window.location.reload(),sx:{ml:2},children:\"Neu laden\"})]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:loading?'Lade Projekte...':\"\".concat(totalCount,\" Projekte gefunden\")})}),loading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',my:4},children:/*#__PURE__*/_jsx(CircularProgress,{})}):projects.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:projects.map(project=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,lg:3,children:/*#__PURE__*/_jsx(ProjectCard,{project:project,onFavoriteToggle:handleFavoriteToggle,isNew:newProjectIds.includes(project.id),onMarkAsSeen:()=>handleMarkAsSeen([project.id])})},project.id))}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',mt:4},children:/*#__PURE__*/_jsx(Pagination,{count:totalPages,page:page,onChange:handlePageChange,color:\"primary\",size:\"large\",showFirstButton:true,showLastButton:true})})]}):/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',my:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:\"Keine Projekte gefunden\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Versuchen Sie es mit anderen Filterkriterien\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",onClick:handleClearFilters,sx:{mt:2},children:\"Filter zur\\xFCcksetzen\"})]})]});}export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useLocation","useNavigate","Container","Grid","Typography","Box","CircularProgress","Pagination","TextField","Button","FormControl","InputLabel","Select","MenuItem","FormControlLabel","Switch","Alert","Tooltip","InputAdornment","FormHelperText","IconButton","Link","Paper","FilterAlt","FilterIcon","Clear","ClearIcon","Refresh","RefreshIcon","Archive","ArchiveIcon","ProjectCard","getProjects","markProjectsAsSeen","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HomePage","location","navigate","queryParams","URLSearchParams","search","projects","setProjects","loading","setLoading","error","setError","page","setPage","parseInt","get","totalPages","setTotalPages","totalCount","setTotalCount","searchQuery","setSearchQuery","location_","setLocation","remoteOnly","setRemoteOnly","newOnly","setNewOnly","showAllProjects","setShowAllProjects","showFilters","setShowFilters","newProjectIds","setNewProjectIds","fetchProjects","forceReprocess","arguments","length","undefined","params","limit","remote","new","show_all","force_reprocess","console","log","data","total","new_project_ids","warn","isRender","window","hostname","includes","apiUrl","process","env","REACT_APP_API_URL","origin","replace","hostParts","split","appPrefix","concat","fallbackUrl","directResponse","fetch","directData","json","setTimeout","reload","directFetchError","err","handleProjectsUpdated","event","detail","addEventListener","autoRefreshInterval","setInterval","clearInterval","removeEventListener","set","toString","pathname","handlePageChange","value","handleFilterSubmit","e","preventDefault","handleClearFilters","handleFavoriteToggle","handleMarkAsSeen","projectIds","prev","filter","id","maxWidth","sx","py","children","display","justifyContent","alignItems","mb","variant","component","gutterBottom","startIcon","onClick","mr","color","href","p","onSubmit","container","spacing","item","xs","sm","md","fullWidth","label","size","onChange","target","placeholder","InputProps","endAdornment","position","fontSize","control","checked","severity","ml","my","map","project","lg","onFavoriteToggle","isNew","onMarkAsSeen","mt","count","showFirstButton","showLastButton","textAlign"],"sources":["/Users/mbanner/CascadeProjects/gulp-job-app/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport {\n  Container,\n  Grid,\n  Typography,\n  Box,\n  CircularProgress,\n  Pagination,\n  TextField,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  FormControlLabel,\n  Switch,\n  Alert,\n  Tooltip,\n  InputAdornment,\n  FormHelperText,\n  IconButton,\n  Link,\n  Paper\n} from '@mui/material';\nimport {\n  FilterAlt as FilterIcon,\n  Clear as ClearIcon,\n  Refresh as RefreshIcon,\n  Archive as ArchiveIcon\n} from '@mui/icons-material';\nimport ProjectCard from '../components/ProjectCard';\nimport { getProjects, markProjectsAsSeen } from '../services/api';\n\nfunction HomePage() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const queryParams = new URLSearchParams(location.search);\n  \n  // State for projects and pagination\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(parseInt(queryParams.get('page')) || 1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [totalCount, setTotalCount] = useState(0);\n  \n  // State for filters\n  const [searchQuery, setSearchQuery] = useState(queryParams.get('search') || '');\n  const [location_, setLocation] = useState(queryParams.get('location') || '');\n  const [remoteOnly, setRemoteOnly] = useState(queryParams.get('remote') === 'true');\n  const [newOnly, setNewOnly] = useState(queryParams.get('new') === 'true');\n  // Standardmäßig alle Projekte anzeigen (true), um sicherzustellen, dass Projekte auf Render angezeigt werden\n  const [showAllProjects, setShowAllProjects] = useState(queryParams.get('show_all') !== 'false');\n  const [showFilters, setShowFilters] = useState(false);\n  \n  // State for new projects\n  const [newProjectIds, setNewProjectIds] = useState([]);\n  \n  // Funktion zum Laden der Projekte mit useCallback\n  const fetchProjects = useCallback(async (forceReprocess = false) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Build query parameters\n      const params = {\n        page,\n        limit: 12,\n        search: searchQuery,\n        location: location_,\n        remote: remoteOnly,\n        new: newOnly,\n        show_all: showAllProjects\n      };\n      \n      // Für Render: force_reprocess Parameter hinzufügen, wenn angefordert\n      if (forceReprocess) {\n        params.force_reprocess = true;\n        console.log('Forcing project reprocessing on fetch');\n      }\n      \n      console.log('Fetching projects with params:', params);\n      const data = await getProjects(params);\n      console.log('API response:', data);\n      console.log('Projects received:', data.projects ? data.projects.length : 0);\n      \n      // Wenn Projekte vorhanden sind, setzen wir sie und beenden\n      if (data.projects && data.projects.length > 0) {\n        setProjects(data.projects);\n        setTotalCount(data.total);\n        \n        // Speichere die IDs der neuen Projekte, um sie hervorzuheben\n        if (data.new_project_ids) {\n          setNewProjectIds(data.new_project_ids);\n        }\n        return true; // Erfolgreicher Abruf\n      }\n      \n      console.warn('No projects received from API, trying fallback approaches');\n      \n      // Wenn wir auf Render sind und keine Projekte erhalten haben, versuchen wir es mit force_reprocess\n      const isRender = window.location.hostname.includes('render.com') || \n                      window.location.hostname.includes('onrender.com');\n      \n      if (isRender && !forceReprocess) {\n        console.log('On Render with no projects, retrying with force_reprocess');\n        return fetchProjects(true); // Rekursiver Aufruf mit force_reprocess\n      }\n      \n      // Direkter Fallback-API-Aufruf als letzter Versuch\n      try {\n        // Verwende die gleiche API-URL-Bestimmung wie in api.js\n        const apiUrl = (() => {\n          console.log('Determining fallback API URL for hostname:', window.location.hostname);\n          \n          if (process.env.REACT_APP_API_URL) {\n            return process.env.REACT_APP_API_URL;\n          }\n          \n          if (isRender) {\n            console.log('Detected Render deployment for fallback');\n            \n            if (window.location.hostname.includes('gulp-job-app')) {\n              return window.location.origin.replace('gulp-job-app', 'gulp-job-app-api');\n            }\n            \n            const hostParts = window.location.hostname.split('-');\n            if (hostParts.length > 0) {\n              const appPrefix = hostParts[0]; // z.B. 'gulp'\n              const apiUrl = `https://${appPrefix}-backend.onrender.com`;\n              console.log('Using constructed Render API URL with prefix:', apiUrl);\n              return apiUrl;\n            }\n            \n            const fallbackUrl = window.location.origin.replace('frontend', 'backend');\n            console.log('Using fallback Render API URL:', fallbackUrl);\n            return fallbackUrl;\n          }\n          \n          return 'http://localhost:8001';\n        })();\n        \n        console.log('Trying direct fetch from:', apiUrl);\n        const directResponse = await fetch(`${apiUrl}/projects?show_all=true&force_reprocess=true`);\n        const directData = await directResponse.json();\n        console.log('Direct fetch response:', directData);\n        \n        if (directData.projects && directData.projects.length > 0) {\n          console.log('Direct fetch successful, got', directData.projects.length, 'projects');\n          setProjects(directData.projects);\n          setTotalCount(directData.total || directData.projects.length);\n          return true; // Erfolgreicher direkter Abruf\n        } else {\n          console.warn('Direct fetch returned no projects');\n          // Wenn wir auf Render sind und immer noch keine Projekte haben, versuchen wir es mit einem Seiten-Reload\n          if (isRender) {\n            console.log('On Render with no projects after all attempts, will try page reload in 5 seconds');\n            setTimeout(() => {\n              window.location.reload();\n            }, 5000);\n          }\n          setProjects([]);\n          setTotalCount(0);\n          setError('Keine Projekte gefunden. Bitte starten Sie den Scraper.');\n          return false;\n        }\n      } catch (directFetchError) {\n        console.error('Direct fetch failed:', directFetchError);\n        setProjects([]);\n        setTotalCount(0);\n        setError('Keine Projekte gefunden. Bitte starten Sie den Scraper.');\n        return false;\n      }\n    } catch (err) {\n      console.error('Error fetching projects:', err);\n      setError('Fehler beim Laden der Projekte. Bitte versuchen Sie es später erneut.');\n      setProjects([]);\n      setTotalCount(0);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [page, searchQuery, location_, remoteOnly, newOnly, showAllProjects]);\n  \n  // Event-Listener für Projekt-Updates (z.B. nach manuellem Scrape)\n  useEffect(() => {\n    // Handler für das projectsUpdated-Event\n    const handleProjectsUpdated = (event) => {\n      console.log('Projekte wurden aktualisiert, lade neu...', event?.detail);\n      \n      // Für Render: Verzögertes Neuladen mit force_reprocess\n      const isRender = window.location.hostname.includes('render.com') || \n                      window.location.hostname.includes('onrender.com');\n      \n      if (isRender) {\n        console.log('Render-Umgebung erkannt, verzögertes Laden der Projekte mit force_reprocess');\n        // Erste Aktualisierung nach 500ms\n        setTimeout(() => {\n          console.log('Erste verzögerte Aktualisierung nach Scrape');\n          fetchProjects(true); // Mit force_reprocess\n          \n          // Zweite Aktualisierung nach weiteren 2 Sekunden, falls die erste nicht erfolgreich war\n          setTimeout(() => {\n            console.log('Zweite verzögerte Aktualisierung nach Scrape');\n            fetchProjects(true);\n          }, 2000);\n        }, 500);\n      } else {\n        // Für lokale Umgebung: Sofort aktualisieren\n        fetchProjects();\n      }\n    };\n    \n    // Event-Listener hinzufügen\n    window.addEventListener('projectsUpdated', handleProjectsUpdated);\n    \n    // Für Render: Automatische Aktualisierung alle 5 Sekunden, wenn keine Projekte angezeigt werden\n    const isRender = window.location.hostname.includes('render.com') || \n                    window.location.hostname.includes('onrender.com');\n    \n    let autoRefreshInterval = null;\n    \n    if (isRender) {\n      console.log('Render-Umgebung erkannt, starte Auto-Refresh-Überwachung');\n      \n      // Starte einen Interval, der prüft, ob Projekte angezeigt werden\n      autoRefreshInterval = setInterval(() => {\n        // Nur aktualisieren, wenn keine Projekte angezeigt werden und kein Ladevorgang läuft\n        if (projects.length === 0 && !loading) {\n          console.log('Keine Projekte auf Render gefunden, automatische Aktualisierung...');\n          fetchProjects(true); // Mit force_reprocess\n        } else if (projects.length > 0) {\n          // Wenn Projekte angezeigt werden, stoppe die automatische Aktualisierung\n          console.log('Projekte werden angezeigt, stoppe Auto-Refresh');\n          clearInterval(autoRefreshInterval);\n          autoRefreshInterval = null;\n        }\n      }, 5000); // Alle 5 Sekunden prüfen\n    }\n    \n    // Cleanup beim Unmount\n    return () => {\n      window.removeEventListener('projectsUpdated', handleProjectsUpdated);\n      if (autoRefreshInterval) {\n        clearInterval(autoRefreshInterval);\n      }\n    };\n  }, [fetchProjects, projects, loading]); // Leere Abhängigkeitsliste, damit der Event-Listener nur einmal registriert wird\n  \n  // Der automatische Neuladen-Mechanismus wurde in den Event-Listener-useEffect integriert\n  \n  // Load projects on mount and when filters change\n  useEffect(() => {\n    fetchProjects();\n    \n    // Update URL with current filters\n    const params = new URLSearchParams();\n    if (page > 1) params.set('page', page.toString());\n    if (searchQuery) params.set('search', searchQuery);\n    if (location_) params.set('location', location_);\n    if (remoteOnly) params.set('remote', 'true');\n    if (newOnly) params.set('new', 'true');\n    if (!showAllProjects) params.set('show_all', 'false');\n    \n    navigate({\n      pathname: location.pathname,\n      search: params.toString()\n    }, { replace: true });\n  }, [page, searchQuery, location_, remoteOnly, newOnly, showAllProjects, navigate, location.pathname]);\n  \n  const handlePageChange = (event, value) => {\n    setPage(value);\n  };\n  \n  const handleFilterSubmit = (e) => {\n    e.preventDefault();\n    setPage(1);  // Reset to first page when applying filters\n  };\n  \n  const handleClearFilters = () => {\n    setSearchQuery('');\n    setLocation('');\n    setRemoteOnly(false);\n    setNewOnly(false);\n    setPage(1);\n  };\n  \n  const handleFavoriteToggle = () => {\n    // Implement favorite toggle functionality\n  };\n  \n  const handleMarkAsSeen = async (projectIds) => {\n    try {\n      await markProjectsAsSeen(projectIds);\n      setNewProjectIds(prev => prev.filter(id => !projectIds.includes(id)));\n    } catch (err) {\n      console.error('Error marking projects as seen:', err);\n    }\n  };\n  \n  return (\n    <Container maxWidth=\"xl\" sx={{ py: 4 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          {showAllProjects ? 'Alle GULP Projekte' : 'Aktuelle GULP Projekte'}\n        </Typography>\n        \n        <Box>\n          <Button\n            variant=\"outlined\"\n            startIcon={<FilterIcon />}\n            onClick={() => setShowFilters(!showFilters)}\n            sx={{ mr: 1 }}\n          >\n            Filter {showFilters ? 'ausblenden' : 'anzeigen'}\n          </Button>\n          \n          <Button\n            variant=\"outlined\"\n            color=\"secondary\"\n            component={Link}\n            href=\"/scraper\"\n            startIcon={<ArchiveIcon />}\n            sx={{ mr: 1 }}\n          >\n            Scraper & Archiv\n          </Button>\n        </Box>\n      </Box>\n      \n      <Paper sx={{ p: 2, mb: 3, display: showFilters ? 'block' : 'none' }}>\n        <Typography variant=\"h6\" gutterBottom>\n          Projektfilter\n        </Typography>\n        \n        {showFilters && (\n          <form onSubmit={handleFilterSubmit}>\n            <Grid container spacing={2} alignItems=\"center\">\n              <Grid item xs={12} sm={6} md={4}>\n                <TextField\n                  fullWidth\n                  label=\"Suchbegriff\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  placeholder=\"z.B. React, Python, DevOps...\"\n                  InputProps={{\n                    endAdornment: searchQuery && (\n                      <InputAdornment position=\"end\">\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => setSearchQuery('')}\n                        >\n                          <ClearIcon fontSize=\"small\" />\n                        </IconButton>\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n                <FormHelperText>\n                  Suche in Titel, Beschreibung und Skills\n                </FormHelperText>\n              </Grid>\n              <Grid item xs={12} sm={6} md={4}>\n                <TextField\n                  fullWidth\n                  label=\"Ort\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  value={location_}\n                  onChange={(e) => setLocation(e.target.value)}\n                  placeholder=\"z.B. München, Berlin...\"\n                />\n              </Grid>\n              <Grid item xs={12} sm={6} md={4}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={remoteOnly}\n                      onChange={(e) => setRemoteOnly(e.target.checked)}\n                      color=\"primary\"\n                    />\n                  }\n                  label=\"Nur Remote-Projekte\"\n                />\n              </Grid>\n              <Grid item xs={12} sm={6} md={4}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={newOnly}\n                      onChange={(e) => setNewOnly(e.target.checked)}\n                      color=\"primary\"\n                    />\n                  }\n                  label=\"Nur neue Projekte\"\n                />\n              </Grid>\n              <Grid item xs={12} sm={6} md={4}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={showAllProjects}\n                      onChange={(e) => setShowAllProjects(e.target.checked)}\n                      color=\"primary\"\n                    />\n                  }\n                  label=\"Alle Projekte anzeigen (inkl. Archiv)\"\n                />\n              </Grid>\n            </Grid>\n          </form>\n        )}\n      </Paper>\n      \n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n          <Button \n            startIcon={<RefreshIcon />}\n            onClick={() => window.location.reload()}\n            sx={{ ml: 2 }}\n          >\n            Neu laden\n          </Button>\n        </Alert>\n      )}\n      \n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n        <Typography variant=\"subtitle1\">\n          {loading ? 'Lade Projekte...' : `${totalCount} Projekte gefunden`}\n        </Typography>\n      </Box>\n      \n      {loading ? (\n        <Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\n          <CircularProgress />\n        </Box>\n      ) : projects.length > 0 ? (\n        <>\n          <Grid container spacing={3}>\n            {projects.map((project) => (\n              <Grid item xs={12} sm={6} md={4} lg={3} key={project.id}>\n                <ProjectCard \n                  project={project} \n                  onFavoriteToggle={handleFavoriteToggle}\n                  isNew={newProjectIds.includes(project.id)}\n                  onMarkAsSeen={() => handleMarkAsSeen([project.id])}\n                />\n              </Grid>\n            ))}\n          </Grid>\n          \n          <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\n            <Pagination \n              count={totalPages} \n              page={page} \n              onChange={handlePageChange} \n              color=\"primary\" \n              size=\"large\"\n              showFirstButton\n              showLastButton\n            />\n          </Box>\n        </>\n      ) : (\n        <Box sx={{ textAlign: 'center', my: 4 }}>\n          <Typography variant=\"h6\" color=\"text.secondary\">\n            Keine Projekte gefunden\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Versuchen Sie es mit anderen Filterkriterien\n          </Typography>\n          <Button \n            variant=\"outlined\" \n            color=\"primary\" \n            onClick={handleClearFilters}\n            sx={{ mt: 2 }}\n          >\n            Filter zurücksetzen\n          </Button>\n        </Box>\n      )}\n    </Container>\n  );\n}\n\nexport default HomePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}